---
title: 记录被Cloudflare坑到的网站https加密
date: 2021-02-08 12:36:00
---

　　之前的DNS解析一直用的是Cloudflare提供的免费解析，在Cloudflare里面设置好DNS之后，其它的设置都是采用默认设置没管，网站也能正常使用，后来发现我下面的几个子域名都出现了问题，无论是用wordpress还是typecho或者是nextcloud建立的站点能通过https访问，但是每次在https下面登录到后台的时候要么是无法跳转，要么一登进后台就变成了http访问了，一直不知道原因所在，后来通过了修改每个站点下的config.php配置解决，但这不应该是最佳的解决方法，后来发现，我的Cloudflare设置里面SSL/TLS 的相关设置里面显示SSL/TLS 加密模式为**灵活**，灵活的意思就是“只加密浏览器与 Cloudflare 之间的流量，但是 Cloudflare 与服务器之间不加密”，这就是我网站即使申请了SSL证书并且在服务器软件上https的设置也没错，但是每次登录跳转的时候无法采用https访问的原因，解决方法就是将 SSL/TLS 加密模式设置为<font color="blue">**完全**</font>，这样浏览器和服务器之间的流量都被加密了，通过https访问网站后台也不会遇到跳转问题了。
　　上面是我昨天无意中发现的一个小问题，今天找个时间看一下v2ray的配置，发现我的v2ray在中国电信网络访问没有问题，但是我的朋友在使用我的配置的时候，却遇到了Wifi不能访问但是流量可以访问的问题，个人猜测是移动网做了限制，正好驱动我利用https建立一个流量混淆，期望能够最大地利用好v2ray。